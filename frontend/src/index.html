<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>PlayMate - Gym Management App</title>

  <base href="/" />

  <meta name="color-scheme" content="light dark" />
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  
  <!-- App metadata -->
  <meta name="description" content="PlayMate - Professional gym and sports club management application" />
  <meta name="keywords" content="gym, fitness, sports, club management, member management" />
  <meta name="author" content="PlayMate Team" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://jsramraj.github.io/PlayMate/" />
  <meta property="og:title" content="PlayMate - Gym Management App" />
  <meta property="og:description" content="Professional gym and sports club management application" />
  <meta property="og:image" content="assets/icon/play-mate-icon.jpeg" />

  <link rel="icon" type="image/png" href="assets/icon/favicon.png" />
  <link rel="manifest" href="manifest.json" />
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- add to homescreen for ios -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="PlayMate" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />

  <!-- Start Single Page Apps for GitHub Pages -->
  <script type="text/javascript">
    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages
    // This script checks to see if a redirect is present in the query string,
    // converts it back into the correct url and adds it to the
    // browser's history using window.history.replaceState(...),
    // which won't cause the browser to attempt to load the new url.
    // When the single page app is loaded further down in this file,
    // the correct url will be waiting in the browser's history for
    // the single page app to route accordingly.
    (function (l) {
      console.log('SPA GitHub Pages Script - Current location:', l.href);
      console.log('SPA GitHub Pages Script - Pathname:', l.pathname);
      console.log('SPA GitHub Pages Script - Search:', l.search);
      console.log('SPA GitHub Pages Script - Hash:', l.hash);
      console.log('SPA GitHub Pages Script - Search[1]:', l.search[1]);
      
      if (l.search[1] === "/") {
        console.log('SPA GitHub Pages Script - Redirect detected, processing...');
        
        var decoded = l.search
          .slice(1)
          .split("&")
          .map(function (s) {
            console.log('SPA GitHub Pages Script - Processing segment:', s);
            return s.replace(/~and~/g, "&");
          })
          .join("?");

        console.log('SPA GitHub Pages Script - Decoded:', decoded);
        
        var newUrl = l.pathname.slice(0, -1) + decoded + l.hash;
        console.log('SPA GitHub Pages Script - New URL:', newUrl);
        
        window.history.replaceState(
          null,
          null,
          newUrl
        );
        
        console.log('SPA GitHub Pages Script - URL updated via replaceState');
      } else {
        console.log('SPA GitHub Pages Script - No redirect detected, normal page load');
      }
    })(window.location);
  </script>
  <!-- End Single Page Apps for GitHub Pages -->
</head>

<body>
  <app-root></app-root>
</body>

</html>
