import{a as z}from"./chunk-36IZBGHT.js";import{a as G}from"./chunk-CUULV472.js";import"./chunk-U2LQ2IHZ.js";import"./chunk-T47TWMLD.js";import"./chunk-P5NOT2UF.js";import"./chunk-4D53AV6Y.js";import{Aa as I,Ba as S,Ca as M,Ea as D,Gb as F,Ja as x,Ka as O,La as y,Mb as k,Nb as N,Oa as E,Ob as T,Q as o,Qa as C,R as h,T as b,Tb as A,Wb as j,Y as f,Za as P,_ as l,aa as d,ba as a,ca as _,ja as g,mc as B,nc as Y,sa as c,ta as w,ua as p,va as v}from"./chunk-ZZBMK7P7.js";import"./chunk-GRX4ZZSO.js";import"./chunk-7KGURMOZ.js";import"./chunk-Y2YV2HED.js";import"./chunk-EDCKRRWH.js";import"./chunk-SPCCATGZ.js";import"./chunk-YKMIF4NY.js";import"./chunk-YVBCZ55L.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-D5MTWDX2.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-OYAVQN5W.js";var L=()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=(t,n,e)=>({"event-day":t,empty:n,today:e});function W(t,n){if(t&1&&(d(0,"div",6),c(1),a()),t&2){let e=n.$implicit;o(),p(" ",e," ")}}function q(t,n){if(t&1&&(d(0,"span"),c(1),a()),t&2){let e=g().$implicit;o(),w(e.getDate())}}function K(t,n){if(t&1&&(d(0,"div",9),f(1,q,2,1,"span",10),a()),t&2){let e=n.$implicit,r=g(2);l("ngClass",S(2,U,r.isEventDay(e),!e,r.isToday(e))),o(),l("ngIf",e)}}function Q(t,n){if(t&1&&(d(0,"div",7),f(1,K,2,6,"div",8),a()),t&2){let e=n.$implicit;o(),l("ngForOf",e)}}var J=(()=>{let n=class n{constructor(){this.month=new Date().getMonth(),this.year=new Date().getFullYear(),this.events=[],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"]}get weeks(){let r=new Date(this.year,this.month,1),i=new Date(this.year,this.month+1,0),m=[],s=Array(r.getDay()).fill(null);for(let u=1;u<=i.getDate();u++)s.push(new Date(this.year,this.month,u)),s.length===7&&(m.push(s),s=[]);if(s.length){for(;s.length<7;)s.push(null);m.push(s)}return m}isEventDay(r){if(!r)return!1;let i=r.toISOString().slice(0,10);return this.events.includes(i)}isToday(r){if(!r)return!1;let i=new Date;return r.getDate()===i.getDate()&&r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=b({type:n,selectors:[["app-calendar-grid"]],inputs:{month:"month",year:"year",events:"events"},decls:7,vars:5,consts:[[1,"calendar-grid"],[1,"calendar-title",2,"text-align","center","font-weight","bold","margin-bottom","0.5rem"],[1,"calendar-header"],["class","calendar-cell calendar-header-cell",4,"ngFor","ngForOf"],[1,"calendar-body"],["class","calendar-row",4,"ngFor","ngForOf"],[1,"calendar-cell","calendar-header-cell"],[1,"calendar-row"],["class","calendar-cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"calendar-cell",3,"ngClass"],[4,"ngIf"]],template:function(i,m){i&1&&(d(0,"div",0)(1,"div",1),c(2),a(),d(3,"div",2),f(4,W,2,1,"div",3),a(),d(5,"div",4),f(6,Q,2,1,"div",5),a()()),i&2&&(o(2),v(" ",m.monthNames[m.month]," ",m.year," "),o(2),l("ngForOf",I(4,L)),o(2),l("ngForOf",m.weeks))},dependencies:[C,x,O,y],styles:[".calendar-grid[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:0 auto 1.5rem;background:#fff;border-radius:16px;box-shadow:0 2px 8px #3c3c3c14,0 1.5px 4px #3c3c3c0f;padding:1rem .5rem 1.5rem}.calendar-title[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:500;color:#333;letter-spacing:.01em;margin-bottom:.5rem}.calendar-header[_ngcontent-%COMP%], .calendar-row[_ngcontent-%COMP%]{display:flex}.calendar-cell[_ngcontent-%COMP%]{flex:1 1 0;height:40px;display:flex;align-items:center;justify-content:center;font-size:1em;background:#fff;color:#333;margin:2px;border-radius:50%;transition:background .2s,color .2s,box-shadow .2s;position:relative}.calendar-header-cell[_ngcontent-%COMP%]{font-weight:600;background:#f5f5f5;color:#666;border-radius:0;border-bottom:1px solid #e0e0e0;margin:0}.event-day[_ngcontent-%COMP%]{background:#fff;color:#1976d2}.event-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;line-height:32px;border-radius:50%;background:#1976d2;color:#fff;font-weight:600;box-shadow:0 2px 6px #1976d214;margin:auto}.empty[_ngcontent-%COMP%]{background:transparent;border:none;box-shadow:none}.calendar-cell[_ngcontent-%COMP%]:not(.empty):hover{background:#e3f2fd;color:#1976d2;cursor:pointer}.today[_ngcontent-%COMP%]{border:none;background:transparent;color:#1976d2;font-weight:700}.today[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;line-height:32px;border-radius:50%;border:2px solid #1976d2;background:#fffde7;color:#1976d2;font-weight:700;box-sizing:border-box}.today.event-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#1565c0;border:2px solid #fffde7;color:#fff}"]});let t=n;return t})();function V(t,n){if(t&1&&(d(0,"ion-content")(1,"ion-card",4)(2,"ion-card-content",5)(3,"div",6)(4,"div",7),c(5),a(),d(6,"div",8)(7,"div",9)(8,"strong"),c(9),a(),d(10,"small",10),c(11),a()(),d(12,"div"),c(13),a(),d(14,"div"),c(15),a(),d(16,"div"),c(17),M(18,"date"),a(),d(19,"div"),c(20),M(21,"date"),a()()()()(),d(22,"div",11)(23,"h3",12),c(24,"Attendance"),a(),_(25,"app-calendar-grid",13),a()()),t&2){let e=g();o(),l("ngClass",e.member.status?e.member.status.toLowerCase():""),o(4),p(" ",e.member.firstName?e.member.firstName.charAt(0).toUpperCase():"?"," "),o(4),v("",e.member.firstName," ",e.member.lastName,""),o(2),p("ID: ",e.member.id,""),o(2),p("Phone: ",e.member.phone||"N/A",""),o(2),p("Status: ",e.member.status||"N/A",""),o(2),p("Joined: ",e.member.joinDate?D(18,12,e.member.joinDate,"mediumDate"):"N/A",""),o(3),p("Expiry: ",e.member.expiryDate?D(21,15,e.member.expiryDate,"mediumDate"):"N/A",""),o(5),l("month",e.currentMonth)("year",e.currentYear)("events",e.attendanceDates)}}function X(t,n){t&1&&(d(0,"ion-content")(1,"ion-card")(2,"ion-card-content")(3,"div",14),c(4,"Member not found."),a()()()())}var $=(()=>{let n=class n{constructor(r,i,m){this.route=r,this.memberService=i,this.attendanceService=m,this.member=null,this.currentMonth=new Date().getMonth(),this.currentYear=new Date().getFullYear(),this.attendanceDates=[]}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&(this.memberService.getMembers().subscribe(i=>{this.member=i.members.find(m=>String(m.id)===String(r))||null}),this.attendanceService.getAttendanceByMember(r).subscribe(i=>{this.attendanceDates=i.map(m=>new Date(m.date).toISOString().slice(0,10))}))}};n.\u0275fac=function(i){return new(i||n)(h(P),h(G),h(z))},n.\u0275cmp=b({type:n,selectors:[["app-member-detail"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["defaultHref","/tabs/members"],[4,"ngIf"],[1,"member-detail-card",3,"ngClass"],[1,"card-content"],[1,"member-info-row",2,"display","flex","align-items","center"],[1,"member-avatar",2,"width","48px","height","48px","border-radius","50%","background","#3880ff","color","#fff","display","flex","align-items","center","justify-content","center","font-size","1.5em","font-weight","bold","margin-right","16px"],[1,"member-info",2,"flex","1"],[1,"member-name"],[1,"member-id"],[2,"margin-top","1.5rem"],[2,"margin-bottom","0.5rem"],[3,"month","year","events"],[1,"ion-text-danger"]],template:function(i,m){i&1&&(d(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),_(3,"ion-back-button",2),a(),d(4,"ion-title"),c(5,"Member Details"),a()()(),f(6,V,26,18,"ion-content",3)(7,X,5,0,"ion-content",3)),i&2&&(o(6),l("ngIf",m.member),o(),l("ngIf",!m.member))},dependencies:[C,x,y,E,j,Y,k,F,B,A,N,T,J],encapsulation:2});let t=n;return t})();var ce=[{path:"",component:$}];export{ce as MEMBER_DETAIL_ROUTES};
