import{m as Y}from"./chunk-F7YU3QWS.js";import"./chunk-HO4XRU2X.js";import"./chunk-QUJFQN2Y.js";import"./chunk-VA6V3FDK.js";import"./chunk-UW4BVHYB.js";import"./chunk-XSAJWLZQ.js";import"./chunk-BIQ3VQTI.js";import"./chunk-4LRFH4BA.js";import"./chunk-XQ4WJ6EK.js";import"./chunk-AUS7AZQE.js";import"./chunk-2KNO3Z5J.js";import"./chunk-R4DLQLUE.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-BDLLJDKH.js";import"./chunk-CKP3SGE2.js";import"./chunk-QO3N4622.js";import{b as Be,c as ze}from"./chunk-UQZAST5U.js";import{a as Fe,e as qe}from"./chunk-Y52GCNON.js";import{a as st}from"./chunk-6WPVMACQ.js";import{B as Ee,E as Ne,F as Ve,G as Ae,H as We,I as Le,J as je,K as Ue,L as Re,M as He,N as $e,Q as Je,R as Ge,T as Ye,U as Ke,W as Qe,Z as Xe,_ as Ze,aa as et,ba as tt,d as $,da as nt,e as _e,ea as it,f as be,fa as ot,g as Me,ia as rt,j as fe,ja as at,k as Ce,l as xe,m as we,n as Pe,o as Oe,p as ye,q as ve,r as J,s as Se,t as Ie,u as Te,x as G,y as ke,z as De}from"./chunk-QUCUL4SD.js";import{$ as k,A as h,Ab as he,Ca as F,Db as ue,E as Q,Eb as H,Fa as E,Ga as q,Ha as de,J as d,K as S,M as L,Q as x,T as u,U as N,V as o,W as l,X as C,Y as oe,Z as re,aa as b,ba as _,c as v,d as te,g as I,h as ne,ia as ae,ja as p,ka as j,l as A,la as D,ma as se,na as w,oa as P,p as T,pa as O,qa as B,r as ie,ta as le,u as W,wb as U,xa as ce,xb as pe,ya as me,yb as ge,z as g,za as z,zb as R}from"./chunk-ZFR4GTBG.js";import"./chunk-AW5PRJD7.js";import"./chunk-T47TWMLD.js";import"./chunk-X2LLLM27.js";import"./chunk-GDTBDVVA.js";import"./chunk-EYVCEYVV.js";import"./chunk-YKMIF4NY.js";import"./chunk-YVBCZ55L.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as Z,b as ee,i as f}from"./chunk-OYAVQN5W.js";function pt(r,s){if(r&1){let m=k();o(0,"ion-list")(1,"ion-item")(2,"ion-label",2),p(3,"Last Name"),l(),o(4,"ion-input",13),O("ngModelChange",function(n){g(m);let e=_();return P(e.lastName,n)||(e.lastName=n),h(n)}),l()(),o(5,"ion-item")(6,"ion-label",2),p(7,"Email"),l(),o(8,"ion-input",14),O("ngModelChange",function(n){g(m);let e=_();return P(e.email,n)||(e.email=n),h(n)}),l()(),o(9,"ion-item")(10,"ion-label",2),p(11,"Notes"),l(),o(12,"ion-input",15),O("ngModelChange",function(n){g(m);let e=_();return P(e.notes,n)||(e.notes=n),h(n)}),l()()()}if(r&2){let m=_();d(4),w("ngModel",m.lastName),d(4),w("ngModel",m.email),d(4),w("ngModel",m.notes)}}function gt(r,s){if(r&1&&(o(0,"ion-text",3),p(1),l()),r&2){let m=_();d(),j(m.error)}}var ct=(()=>{let s=class s{constructor(t){this.modalCtrl=t,this.memberAdded=new Q,this.cancelled=new Q,this.firstName="",this.phone="",this.place="",this.lastName="",this.email="",this.notes="",this.showOptional=!1,this.error=""}submit(){return f(this,null,function*(){if(this.error="",!this.firstName.trim()||!this.phone.trim()||!this.place.trim()){this.error="First Name, Phone, and Place are required.";return}let t={firstName:this.firstName.trim(),phone:this.phone.trim(),place:this.place.trim(),lastName:this.lastName.trim(),email:this.email.trim(),notes:this.notes.trim(),joinDate:new Date,createdDate:new Date().toISOString(),expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString(),sports:[],status:"active",membershipType:"basic",lastPaymentDate:new Date};yield this.modalCtrl.dismiss({member:t})})}cancel(){return f(this,null,function*(){yield this.modalCtrl.dismiss()})}toggleOptional(){this.showOptional=!this.showOptional}};s.\u0275fac=function(n){return new(n||s)(S(Y))},s.\u0275cmp=L({type:s,selectors:[["app-add-member"]],outputs:{memberAdded:"memberAdded",cancelled:"cancelled"},features:[B([Y])],decls:32,vars:6,consts:[[1,"add-member-modal"],[3,"ngSubmit"],["position","stacked"],["color","danger"],["name","firstName","required","",3,"ngModelChange","ngModel"],["name","phone","required","",3,"ngModelChange","ngModel"],["name","place","required","",3,"ngModelChange","ngModel"],["expand","block","fill","outline","type","button",3,"click"],[4,"ngIf"],["color","danger",4,"ngIf"],[1,"modal-actions"],["expand","block","type","submit"],["expand","block","fill","clear","color","medium",3,"click"],["name","lastName",3,"ngModelChange","ngModel"],["name","email","type","email",3,"ngModelChange","ngModel"],["name","notes",3,"ngModelChange","ngModel"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"h2"),p(2,"Add New Member"),l(),o(3,"form",1),b("ngSubmit",function(){return e.submit()}),o(4,"ion-list")(5,"ion-item")(6,"ion-label",2),p(7,"First Name "),o(8,"ion-text",3),p(9,"*"),l()(),o(10,"ion-input",4),O("ngModelChange",function(a){return P(e.firstName,a)||(e.firstName=a),a}),l()(),o(11,"ion-item")(12,"ion-label",2),p(13,"Phone "),o(14,"ion-text",3),p(15,"*"),l()(),o(16,"ion-input",5),O("ngModelChange",function(a){return P(e.phone,a)||(e.phone=a),a}),l()(),o(17,"ion-item")(18,"ion-label",2),p(19,"Place "),o(20,"ion-text",3),p(21,"*"),l()(),o(22,"ion-input",6),O("ngModelChange",function(a){return P(e.place,a)||(e.place=a),a}),l()()(),o(23,"ion-button",7),b("click",function(){return e.toggleOptional()}),p(24),l(),x(25,pt,13,3,"ion-list",8)(26,gt,2,1,"ion-text",9),o(27,"div",10)(28,"ion-button",11),p(29,"Add Member"),l(),o(30,"ion-button",12),b("click",function(){return e.cancel()}),p(31,"Cancel"),l()()()()),n&2&&(d(10),w("ngModel",e.firstName),d(6),w("ngModel",e.phone),d(6),w("ngModel",e.place),d(2),D(" ",e.showOptional?"Hide":"Show"," Optional Fields "),d(),u("ngIf",e.showOptional),d(),u("ngIf",e.error))},dependencies:[F,z,H,he,U,pe,ue,R,ge,We,$,J,ve,Se,G],styles:[".add-member-modal[_ngcontent-%COMP%]{padding:1.5rem;max-width:400px;margin:0 auto}.add-member-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.modal-actions[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;gap:.5rem}ion-list[_ngcontent-%COMP%]{margin-bottom:1rem}"]});let r=s;return r})();var X=(()=>{let s=class s{static openDB(){return new Promise((t,n)=>{let e=indexedDB.open(s.dbName,1);e.onupgradeneeded=i=>{let a=i.target.result;a.objectStoreNames.contains(s.storeName)||a.createObjectStore(s.storeName,{keyPath:"id"})},e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)})}static getAll(){return f(this,null,function*(){let t=yield s.openDB();return new Promise((n,e)=>{let c=t.transaction(s.storeName,"readonly").objectStore(s.storeName).getAll();c.onsuccess=()=>n(c.result),c.onerror=()=>e(c.error)})})}static setAll(t){return f(this,null,function*(){let n=yield s.openDB();return new Promise((e,i)=>{var y;let a=n.transaction(s.storeName,"readwrite"),c=a.objectStore(s.storeName);c.clear();for(let M of t){let V=ee(Z({},M),{id:(y=M.ID)!=null?y:M.id});c.put(V)}a.oncomplete=()=>e(),a.onerror=()=>i(a.error)})})}};s.dbName="PlayMateDB",s.storeName="members";let r=s;return r})();var K=(()=>{let s=class s{constructor(t,n,e){this.http=t,this.authService=n,this.clubContext=e,this.apiUrl=Fe.apiUrl}getRequestPayload(e){return f(this,arguments,function*(t,n={}){let i=yield this.authService.getAuthToken();return{action:t,payload:n,authorization:i?"Bearer "+i:void 0}})}getMembers(){let t=v(X.getAll()).pipe(A(()=>te([]))),n=v(this.authService.getAuthToken()).pipe(T(e=>{let i=this.clubContext.getSportsClubId()||"",a=new q().set("sportsClubId",i).set("action","getMembers").set("authorization",e?"Bearer "+e:""),y={headers:new E({"Content-Type":"text/plain;charset=utf-8"}),params:a,responseType:"json",observe:"body"};return this.http.get(this.apiUrl,y).pipe(I(M=>{var V;if(M.status==="error")throw new Error((V=M.error)==null?void 0:V.message);return M.data||[]}),T(M=>v(X.setAll(M)).pipe(I(()=>M))),A(M=>{throw console.error("Error fetching members:",M),M}))}));return ne(t,n)}searchMembers(t){return v(this.authService.getAuthToken()).pipe(T(n=>{let e=new q().set("action","getMembers").set("payload",JSON.stringify({filters:{searchTerm:t}})).set("authorization",n?"Bearer "+n:""),a={headers:new E({"Content-Type":"text/plain;charset=utf-8"}),params:e,responseType:"json",observe:"body"};return this.http.get(this.apiUrl,a).pipe(I(c=>{var y;if(c.status==="error")throw new Error((y=c.error)==null?void 0:y.message);return c.data||[]}),A(c=>{throw console.error("Error searching members:",c),c}))}))}addMember(t){return v(this.getRequestPayload("addMember",t)).pipe(T(n=>{let e=new q().set("action","addMember").set("payload",JSON.stringify(n));return this.http.post(this.apiUrl,null,{params:e,headers:new E({"Content-Type":"text/plain;charset=utf-8"})}).pipe(I(i=>{if(i.status==="success"&&i.data)return i.data;throw new Error("Failed to add member")}))}))}updateMember(t){return v(this.getRequestPayload("updateMember",t)).pipe(T(n=>{let i={headers:new E({"Content-Type":"text/plain;charset=utf-8"}),responseType:"json",observe:"body"};return this.http.post(this.apiUrl,n,i).pipe(I(a=>{var c;if(a.status==="error")throw new Error((c=a.error)==null?void 0:c.message);return a.data}))}))}deleteMember(t){return v(this.getRequestPayload("deleteMember",{memberId:t})).pipe(T(n=>{let i={headers:new E({"Content-Type":"text/plain;charset=utf-8"}),responseType:"json",observe:"body"};return this.http.post(this.apiUrl,n,i).pipe(I(a=>{var c;if(a.status==="error")throw new Error((c=a.error)==null?void 0:c.message);return a.data||!1}))}))}};s.\u0275fac=function(n){return new(n||s)(W(de),W(qe),W(st))},s.\u0275prov=ie({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function ut(r,s){if(r&1&&(o(0,"ion-text",29),p(1),l()),r&2){let m=_();d(),D(" Showing ",m.filteredMembers.length," members ")}}function _t(r,s){r&1&&C(0,"ion-spinner")}function bt(r,s){if(r&1&&(o(0,"ion-text",30),p(1),l()),r&2){let m=_();d(),j(m.error)}}function Mt(r,s){if(r&1&&C(0,"ion-icon",31),r&2){let m=_();u("name",m.sortDirection==="asc"?"arrow-up-outline":"arrow-down-outline")}}function ft(r,s){if(r&1&&C(0,"ion-icon",31),r&2){let m=_();u("name",m.sortDirection==="asc"?"arrow-up-outline":"arrow-down-outline")}}function Ct(r,s){if(r&1&&C(0,"ion-icon",31),r&2){let m=_();u("name",m.sortDirection==="asc"?"arrow-up-outline":"arrow-down-outline")}}function xt(r,s){if(r&1){let m=k();o(0,"ion-card",33)(1,"ion-card-content",34)(2,"div",35)(3,"div",36)(4,"strong"),p(5),l()(),o(6,"div"),p(7),l(),o(8,"div"),p(9),l()(),o(10,"div",37)(11,"ion-button",38),b("click",function(){let n=g(m).$implicit,e=_(2);return h(e.renewMembership(n))}),C(12,"ion-icon",39),l(),o(13,"ion-button",38),b("click",function(){let n=g(m).$implicit,e=_(2);return h(e.openWhatsApp(n))}),C(14,"ion-icon",40),l()()()()}if(r&2){let m=s.$implicit,t=_(2);u("ngClass",t.getMembershipStatus(m.expiryDate)),d(5),se("",m.firstName," ",m.lastName,""),d(2),D("Phone: ",m.phone||"N/A",""),d(2),D("Expires: ",t.formatDate(m.expiryDate),"")}}function wt(r,s){if(r&1&&(oe(0),x(1,xt,15,5,"ion-card",32),re()),r&2){let m=_();d(),u("ngForOf",m.filteredMembers)}}function Pt(r,s){r&1&&(o(0,"p"),p(1,"Try adjusting your search criteria"),l())}function Ot(r,s){r&1&&(o(0,"p"),p(1,"Add new members to see them listed here"),l())}function yt(r,s){if(r&1){let m=k();o(0,"div",41),C(1,"ion-icon",42),o(2,"h3"),p(3,"No members found"),l(),x(4,Pt,2,0,"p",16)(5,Ot,2,0,"p",16),o(6,"ion-button",26),b("click",function(){g(m);let n=_();return h(n.addMember())}),p(7,"Add Member"),l()()}if(r&2){let m=_();d(4),u("ngIf",m.searchTerm),d(),u("ngIf",!m.searchTerm)}}var on=(()=>{let s=class s{constructor(t,n,e,i,a){this.memberService=t,this.alertController=n,this.toastController=e,this.translateService=i,this.modalController=a,this.members=[],this.filteredMembers=[],this.searchTerm="",this.sortOption="name",this.sortDirection="asc",this.selectedSegment="all",this.loading=!1,this.error=null,this.isSearchVisible=!1,this.translateService.addLangs(["en","ta"]),this.translateService.setDefaultLang("en");let c=navigator.language;this.translateService.use(c.match(/en|ta/)?c:"en"),Ue({addOutline:Re,personOutline:nt,calendarOutline:Je,timeOutline:rt,refreshOutline:it,logoWhatsapp:Xe,peopleOutline:et,personAddOutline:tt,createOutline:Ke,trashOutline:at,mailOutline:Ze,callOutline:Ge,footballOutline:Qe,arrowUpOutline:$e,arrowDownOutline:He,searchOutline:ot,closeOutline:Ye})}ngOnInit(){this.loadMembers()}toggleSearch(){this.isSearchVisible=!this.isSearchVisible,this.isSearchVisible||(this.searchTerm="",this.filterMembers())}loadMembers(){this.loading=!0,this.error=null,this.memberService.getMembers().subscribe({next:t=>{this.members=t,this.filteredMembers=[...t],this.sortMembers(),this.loading=!1},error:t=>{this.error="Error loading members",this.loading=!1,console.error("Error loading members:",t)}})}searchMembers(t){this.searchTerm=t.target.value,this.filterMembers()}filterMembers(){var n;let t=[...this.members];if((n=this.searchTerm)!=null&&n.trim()){let e=this.searchTerm.toLowerCase().trim();t=t.filter(i=>i.firstName.toLowerCase().includes(e)||i.lastName.toLowerCase().includes(e)||i.email.toLowerCase().includes(e)||i.sports&&i.sports.some(a=>a.toLowerCase().includes(e)))}this.selectedSegment!=="all"&&(t=t.filter(e=>{let i=this.getMembershipStatus(e.expiryDate);return this.selectedSegment===i})),this.filteredMembers=t,this.sortMembers()}segmentChanged(t){this.selectedSegment=t.detail.value,this.filterMembers()}sortMembers(){this.filteredMembers.sort((t,n)=>{let e,i;switch(this.sortOption){case"name":e=`${t.firstName} ${t.lastName}`.toLowerCase(),i=`${n.firstName} ${n.lastName}`.toLowerCase();break;case"expiryDate":e=new Date(t.expiryDate).getTime(),i=new Date(n.expiryDate).getTime();break;case"createdDate":e=new Date(t.createdDate).getTime(),i=new Date(n.createdDate).getTime();break;default:e=`${t.firstName} ${t.lastName}`.toLowerCase(),i=`${n.firstName} ${n.lastName}`.toLowerCase()}return this.sortDirection==="asc"?e>i?1:-1:e<i?1:-1})}changeSortOption(t){this.sortOption===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortOption=t,this.sortDirection="asc"),this.sortMembers()}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return t}}getRemainingDays(t){if(!t)return 0;let n=new Date(t),e=new Date,i=n.getTime()-e.getTime();return Math.ceil(i/(1e3*3600*24))}getMembershipStatus(t){let n=this.getRemainingDays(t);return n<=0?"expired":n<=7?"expiring":"active"}deleteMember(t){return f(this,null,function*(){yield(yield this.alertController.create({header:"Confirm Delete",message:`Are you sure you want to delete ${t.firstName} ${t.lastName}?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{this.loading=!0,this.memberService.deleteMember(t.memberId).subscribe({next:()=>{this.showToast(`${t.firstName} ${t.lastName} has been deleted`),this.loadMembers()},error:e=>{this.error="Error deleting member",this.loading=!1,console.error("Error deleting member:",e),this.showToast("Failed to delete member","danger")}})}}]})).present()})}addMember(){return f(this,null,function*(){let t=yield this.modalController.create({component:ct,componentProps:{},showBackdrop:!0,backdropDismiss:!1,cssClass:"add-member-modal"});t.onWillDismiss().then(n=>{let e=n.data;e&&e.member&&(this.loading=!0,this.memberService.addMember(e.member).subscribe({next:()=>{this.showToast("Member added successfully"),this.loadMembers()},error:i=>{console.error("Error adding member:",i),this.showToast("Failed to add member","danger"),this.loading=!1}}))}),yield t.present()})}editMember(t){return f(this,null,function*(){})}renewMembership(t){return f(this,null,function*(){})}openWhatsApp(t){return f(this,null,function*(){if(!t.phone){let M=yield this.translateService.get("whatsapp.noPhone").toPromise();this.showToast(M,"warning");return}let n=t.phone.toString().replace(/\s+/g,"").replace(/-/g,"");n.startsWith("+")||(n=n.replace(/^0+/,""),n.startsWith("91")||(n="91"+n));let e=this.getMembershipStatus(t.expiryDate),i={name:`${t.firstName} ${t.lastName}`,date:this.formatDate(t.expiryDate),days:this.getRemainingDays(t.expiryDate).toString()},a=yield this.translateService.get(`whatsapp.${e}`,i).toPromise(),c=encodeURIComponent(a),y=`https://wa.me/${n}${a?"?text="+c:""}`;window.open(y,"_blank")})}showToast(t,n="success"){return f(this,null,function*(){yield(yield this.toastController.create({message:t,duration:2e3,color:n,position:"bottom"})).present()})}loadMore(t){t.target.complete()}toggleSortDirection(){this.sortDirection=this.sortDirection==="asc"?"desc":"asc",this.sortMembers()}};s.\u0275fac=function(n){return new(n||s)(S(K),S(Ne),S(Ve),S(Be),S(Ee))},s.\u0275cmp=L({type:s,selectors:[["app-members"]],features:[B([K])],decls:54,vars:19,consts:[["noMembers",""],[1,"toolbar-primary"],["slot","end"],[1,"btn-primary",3,"click"],["slot","icon-only",3,"name"],["slot","icon-only","name","add-outline"],[1,"segments-toolbar"],["mode","ios",1,"segment-enhanced",3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","active"],["value","expiring"],["value","expired"],[1,"search-toolbar"],["placeholder","Search by name, phone, or address...",1,"search-enhanced",3,"ngModelChange","ionChange","ngModel"],[1,"results-count"],["color","medium",4,"ngIf"],[4,"ngIf"],["color","danger",4,"ngIf"],[1,"sort-controls"],[1,"sort-chip",3,"click"],["name","person-outline"],["class","direction-icon",3,"name",4,"ngIf"],["name","calendar-outline"],["name","time-outline"],[4,"ngIf","ngIfElse"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","person-add-outline"],[3,"ionInfinite"],["color","medium"],["color","danger"],[1,"direction-icon",3,"name"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card-content"],[1,"member-info"],[1,"member-name"],[1,"card-actions"],["fill","clear","color","success",1,"action-button",3,"click"],["name","refresh-outline"],["name","logo-whatsapp"],[1,"empty-state"],["name","people-outline","size","large"]],template:function(n,e){if(n&1){let i=k();o(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),p(3,"Members List"),l(),o(4,"ion-buttons",2)(5,"ion-button",3),b("click",function(){return g(i),h(e.toggleSearch())}),C(6,"ion-icon",4),l(),o(7,"ion-button",3),b("click",function(){return g(i),h(e.addMember())}),C(8,"ion-icon",5),l()()(),o(9,"ion-toolbar",6)(10,"ion-segment",7),O("ngModelChange",function(c){return g(i),P(e.selectedSegment,c)||(e.selectedSegment=c),h(c)}),b("ionChange",function(c){return g(i),h(e.segmentChanged(c))}),o(11,"ion-segment-button",8)(12,"ion-label"),p(13,"All"),l()(),o(14,"ion-segment-button",9)(15,"ion-label"),p(16,"Active"),l()(),o(17,"ion-segment-button",10)(18,"ion-label"),p(19,"Expiring"),l()(),o(20,"ion-segment-button",11)(21,"ion-label"),p(22,"Expired"),l()()()(),o(23,"ion-toolbar",12)(24,"ion-searchbar",13),O("ngModelChange",function(c){return g(i),P(e.searchTerm,c)||(e.searchTerm=c),h(c)}),b("ionChange",function(c){return g(i),h(e.searchMembers(c))}),l()()(),o(25,"ion-content")(26,"div",14),x(27,ut,2,1,"ion-text",15)(28,_t,1,0,"ion-spinner",16)(29,bt,2,1,"ion-text",17),l(),o(30,"div",18)(31,"ion-chip",19),b("click",function(){return g(i),h(e.changeSortOption("name"))}),C(32,"ion-icon",20),o(33,"ion-label"),p(34,"Name"),l(),x(35,Mt,1,1,"ion-icon",21),l(),o(36,"ion-chip",19),b("click",function(){return g(i),h(e.changeSortOption("expiryDate"))}),C(37,"ion-icon",22),o(38,"ion-label"),p(39,"Expiry Date"),l(),x(40,ft,1,1,"ion-icon",21),l(),o(41,"ion-chip",19),b("click",function(){return g(i),h(e.changeSortOption("createdDate"))}),C(42,"ion-icon",23),o(43,"ion-label"),p(44,"Join Date"),l(),x(45,Ct,1,1,"ion-icon",21),l()(),x(46,wt,2,1,"ng-container",24)(47,yt,8,2,"ng-template",null,0,le),o(49,"ion-fab",25)(50,"ion-fab-button",26),b("click",function(){return g(i),h(e.addMember())}),C(51,"ion-icon",27),l()(),o(52,"ion-infinite-scroll",28),b("ionInfinite",function(c){return g(i),h(e.loadMore(c))}),C(53,"ion-infinite-scroll-content"),l()()}if(n&2){let i=ae(48);d(6),u("name",e.isSearchVisible?"close-outline":"search-outline"),d(4),w("ngModel",e.selectedSegment),d(13),N("search-visible",e.isSearchVisible),d(),w("ngModel",e.searchTerm),d(3),u("ngIf",!e.loading),d(),u("ngIf",e.loading),d(),u("ngIf",e.error),d(2),N("active",e.sortOption==="name"),d(4),u("ngIf",e.sortOption==="name"),d(),N("active",e.sortOption==="expiryDate"),d(4),u("ngIf",e.sortOption==="expiryDate"),d(),N("active",e.sortOption==="createdDate"),d(4),u("ngIf",e.sortOption==="createdDate"),d(),u("ngIf",e.filteredMembers.length>0)("ngIfElse",i)}},dependencies:[F,ce,me,z,H,U,R,ze,Pe,De,ke,_e,$,Ae,Le,Ce,J,Oe,ye,xe,we,be,Me,je,Ie,Te,G,fe],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light-shade)}ion-searchbar[_ngcontent-%COMP%]{padding:16px;--background: var(--ion-color-light);--border-radius: 8px;--box-shadow: none}.search-toolbar[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .3s ease;padding:0}.search-toolbar.search-visible[_ngcontent-%COMP%]{height:72px;padding:8px 16px}.segments-toolbar[_ngcontent-%COMP%]{padding:8px 16px;background:var(--ion-color-light);min-height:56px;border-bottom:1px solid var(--ion-color-light-shade)}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background: white;--border-radius: 8px;--border-width: 1px;--border-color: var(--ion-color-light-shade);--box-shadow: none}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: white;--background-checked: var(--ion-color-primary);--color: var(--ion-color-medium);--color-checked: white;--indicator-height: 0;--padding-top: 4px;--padding-bottom: 4px;--padding-start: 8px;--padding-end: 8px;font-size:13px;font-weight:500;min-height:32px;transition:all .2s ease}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:hover{--background: var(--ion-color-light)}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;text-transform:none;letter-spacing:0}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]::part(indicator){border-radius:2px;margin:0 8px}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]::part(indicator-background){background:transparent}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center;gap:8px;overflow-x:auto;-webkit-overflow-scrolling:touch;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-light-shade)}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-chip[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;margin:0;--background: white;--color: var(--ion-color-medium);--border-color: var(--ion-color-light-shade);--border-width: 2px;font-weight:500;white-space:nowrap}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-chip[_ngcontent-%COMP%]:hover{--background: var(--ion-color-light-shade);transform:translateY(-1px)}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-chip.active[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast);--border-color: var(--ion-color-primary);box-shadow:0 2px 8px #dc262633}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:first-child{margin-right:6px;font-size:16px}[_nghost-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-chip[_ngcontent-%COMP%]   .direction-icon[_ngcontent-%COMP%]{margin-left:6px;font-size:14px;opacity:.8}[_nghost-%COMP%]   .results-count[_ngcontent-%COMP%]{padding:8px 16px;display:flex;align-items:center;gap:8px;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-light-shade);font-size:14px;font-weight:500}[_nghost-%COMP%]   .results-count[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:var(--ion-color-medium)!important}[_nghost-%COMP%]   .results-count[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:8px 16px;border-radius:12px;background:var(--ion-color-light);box-shadow:0 2px 8px #0000000f;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]:active{transform:scale(.98)}[_nghost-%COMP%]   ion-card.active[_ngcontent-%COMP%]{border-left:4px solid var(--ion-color-success)}[_nghost-%COMP%]   ion-card.expiring[_ngcontent-%COMP%]{border-left:4px solid var(--ion-color-warning)}[_nghost-%COMP%]   ion-card.expired[_ngcontent-%COMP%]{border-left:4px solid var(--ion-color-danger)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;gap:16px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:8px;color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;color:var(--ion-color-medium);display:flex;align-items:center;gap:6px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;min-width:16px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:fit-content}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;margin:0;height:36px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-button.primary[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-button.secondary[_ngcontent-%COMP%]{--background: var(--ion-color-light);--color: var(--ion-color-medium);--border-style: solid;--border-width: 1px;--border-color: var(--ion-color-light-shade)}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:48px 32px;color:var(--ion-color-medium)}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:72px;margin-bottom:24px;opacity:.8}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:var(--ion-color-dark)}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0 24px;font-size:16px;line-height:1.4;max-width:300px}[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 24px;--padding-end: 24px}ion-toolbar.toolbar-primary[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast);--border-color: var(--ion-color-primary-shade)}ion-segment.segment-enhanced[_ngcontent-%COMP%]{--background: var(--ion-segment-background);--color: var(--ion-segment-color);--color-checked: var(--ion-segment-color-checked);border-radius:8px;padding:4px}ion-searchbar.search-enhanced[_ngcontent-%COMP%]{--background: var(--ion-input-background);--color: var(--ion-input-color);--border-radius: 8px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .1)}@media (max-width: 576px){[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:8px;border-radius:10px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:12px;gap:12px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{height:32px;font-size:13px}}@media (max-width: 576px){.segments-toolbar[_ngcontent-%COMP%]{padding:6px 12px;min-height:48px}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--padding-top: 6px;--padding-bottom: 6px;--padding-start: 8px;--padding-end: 8px;min-height:36px;font-size:13px}.segments-toolbar[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.4px}}"]});let r=s;return r})();export{on as MembersPage};
