import{a as L}from"./chunk-36IZBGHT.js";import{a as H}from"./chunk-CUULV472.js";import"./chunk-U2LQ2IHZ.js";import"./chunk-T47TWMLD.js";import"./chunk-P5NOT2UF.js";import{a as J,m as $,o as R}from"./chunk-KQP4CTSV.js";import"./chunk-4D53AV6Y.js";import{Aa as S,Ba as k,Ca as w,Ea as D,Gb as F,Ja as x,Ka as O,La as _,Mb as T,Nb as N,Oa as E,Ob as A,Q as c,Qa as C,R as b,T as v,Tb as j,Wb as B,Y as g,Za as P,_ as s,aa as a,ba as r,ca as u,ia as M,ja as h,mc as z,nc as G,sa as m,ta as I,ua as p,va as y,xc as Y}from"./chunk-ZZBMK7P7.js";import"./chunk-GRX4ZZSO.js";import"./chunk-7KGURMOZ.js";import"./chunk-Y2YV2HED.js";import"./chunk-EDCKRRWH.js";import"./chunk-SPCCATGZ.js";import"./chunk-YKMIF4NY.js";import"./chunk-YVBCZ55L.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-D5MTWDX2.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-OYAVQN5W.js";var Q=()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=(t,n,e)=>({"event-day":t,empty:n,today:e});function X(t,n){if(t&1&&(a(0,"div",11),m(1),r()),t&2){let e=n.$implicit;c(),p(" ",e," ")}}function Z(t,n){if(t&1&&(a(0,"span"),m(1),r()),t&2){let e=h().$implicit;c(),I(e.getDate())}}function ee(t,n){if(t&1&&(a(0,"div",14),g(1,Z,2,1,"span",15),r()),t&2){let e=n.$implicit,o=h(2);s("ngClass",k(2,V,o.isEventDay(e),!e,o.isToday(e))),c(),s("ngIf",e)}}function te(t,n){if(t&1&&(a(0,"div",12),g(1,ee,2,6,"div",13),r()),t&2){let e=n.$implicit;c(),s("ngForOf",e)}}J({chevronBackOutline:$,chevronForwardOutline:R});var U=(()=>{let n=class n{constructor(){this.events=[],this.month=new Date().getMonth(),this.year=new Date().getFullYear(),this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"]}get weeks(){let o=new Date(this.year,this.month,1),i=new Date(this.year,this.month+1,0),l=[],d=Array(o.getDay()).fill(null);for(let f=1;f<=i.getDate();f++)d.push(new Date(this.year,this.month,f)),d.length===7&&(l.push(d),d=[]);if(d.length){for(;d.length<7;)d.push(null);l.push(d)}return l}isEventDay(o){if(!o)return!1;let i=o.toISOString().slice(0,10);return this.events.includes(i)}isToday(o){if(!o)return!1;let i=new Date;return o.getDate()===i.getDate()&&o.getMonth()===i.getMonth()&&o.getFullYear()===i.getFullYear()}prevMonth(){this.month===0?(this.month=11,this.year--):this.month--}nextMonth(){this.month===11?(this.month=0,this.year++):this.month++}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=v({type:n,selectors:[["app-calendar-grid"]],inputs:{events:"events",month:"month",year:"year"},decls:12,vars:5,consts:[[1,"calendar-grid"],[1,"calendar-title",2,"display","flex","align-items","center","justify-content","center","gap","0.5rem","margin-bottom","0.5rem"],["aria-label","Previous month",1,"calendar-nav-btn",3,"click"],["name","chevron-back-outline",2,"font-size","1.25rem"],[2,"flex","1","text-align","center","font-weight","bold"],["aria-label","Next month",1,"calendar-nav-btn",3,"click"],["name","chevron-forward-outline",2,"font-size","1.25rem"],[1,"calendar-header"],["class","calendar-cell calendar-header-cell",4,"ngFor","ngForOf"],[1,"calendar-body"],["class","calendar-row",4,"ngFor","ngForOf"],[1,"calendar-cell","calendar-header-cell"],[1,"calendar-row"],["class","calendar-cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"calendar-cell",3,"ngClass"],[4,"ngIf"]],template:function(i,l){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),M("click",function(){return l.prevMonth()}),u(3,"ion-icon",3),r(),a(4,"span",4),m(5),r(),a(6,"button",5),M("click",function(){return l.nextMonth()}),u(7,"ion-icon",6),r()(),a(8,"div",7),g(9,X,2,1,"div",8),r(),a(10,"div",9),g(11,te,2,1,"div",10),r()()),i&2&&(c(5),y("",l.monthNames[l.month]," ",l.year,""),c(4),s("ngForOf",S(4,Q)),c(2),s("ngForOf",l.weeks))},dependencies:[C,x,O,_,Y],styles:[".calendar-grid[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:0 auto 1.5rem;background:var(--ion-card-background);border-radius:16px;box-shadow:0 2px 8px rgba(var(--ion-color-primary-rgb),.08),0 1.5px 4px rgba(var(--ion-color-primary-rgb),.06);padding:1rem .5rem 1.5rem;color:var(--ion-card-color)}.calendar-title[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:500;color:var(--ion-text-color);letter-spacing:.01em;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.calendar-nav-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--ion-color-primary);font-size:1.5rem;cursor:pointer;padding:0 .5rem;border-radius:50%;transition:background .2s;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.calendar-nav-btn[_ngcontent-%COMP%]:hover, .calendar-nav-btn[_ngcontent-%COMP%]:focus{background:var(--ion-color-primary-tint);outline:none}.calendar-header[_ngcontent-%COMP%], .calendar-row[_ngcontent-%COMP%]{display:flex}.calendar-cell[_ngcontent-%COMP%]{flex:1 1 0;height:40px;display:flex;align-items:center;justify-content:center;font-size:1em;background:var(--ion-card-background);color:var(--ion-card-color);margin:2px;border-radius:50%;transition:background .2s,color .2s,box-shadow .2s;position:relative}.calendar-header-cell[_ngcontent-%COMP%]{font-weight:600;background:var(--ion-segment-background);color:var(--ion-segment-color);border-radius:0;border-bottom:1px solid var(--ion-item-border-color);margin:0}.event-day[_ngcontent-%COMP%]{background:var(--ion-card-background);color:var(--ion-color-primary)}.event-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;line-height:32px;border-radius:50%;background:var(--ion-color-primary);color:var(--ion-color-primary-contrast);font-weight:600;box-shadow:0 2px 6px rgba(var(--ion-color-primary-rgb),.08);margin:auto}.empty[_ngcontent-%COMP%]{background:transparent;border:none;box-shadow:none}.calendar-cell[_ngcontent-%COMP%]:not(.empty):hover{background:var(--ion-color-primary-tint);color:var(--ion-color-primary);cursor:pointer}.today[_ngcontent-%COMP%]{border:none;background:transparent;color:var(--ion-color-primary);font-weight:700}.today[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;line-height:32px;border-radius:50%;border:2px solid var(--ion-color-primary);background:var(--ion-color-light);color:var(--ion-color-primary);font-weight:700;box-sizing:border-box}.today.event-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--ion-color-primary-shade);border:2px solid var(--ion-color-light);color:var(--ion-color-primary-contrast)}"]});let t=n;return t})();function ne(t,n){if(t&1&&(a(0,"ion-content")(1,"ion-card",4)(2,"ion-card-content",5)(3,"div",6)(4,"div",7),m(5),r(),a(6,"div",8)(7,"div",9)(8,"strong"),m(9),r(),a(10,"small",10),m(11),r()(),a(12,"div"),m(13),r(),a(14,"div"),m(15),r(),a(16,"div"),m(17),w(18,"date"),r(),a(19,"div"),m(20),w(21,"date"),r()()()()(),a(22,"div",11)(23,"h3",12),m(24,"Attendance"),r(),u(25,"app-calendar-grid",13),r()()),t&2){let e=h();c(),s("ngClass",e.member.status?e.member.status.toLowerCase():""),c(4),p(" ",e.member.firstName?e.member.firstName.charAt(0).toUpperCase():"?"," "),c(4),y("",e.member.firstName," ",e.member.lastName,""),c(2),p("ID: ",e.member.id,""),c(2),p("Phone: ",e.member.phone||"N/A",""),c(2),p("Status: ",e.member.status||"N/A",""),c(2),p("Joined: ",e.member.joinDate?D(18,10,e.member.joinDate,"mediumDate"):"N/A",""),c(3),p("Expiry: ",e.member.expiryDate?D(21,13,e.member.expiryDate,"mediumDate"):"N/A",""),c(5),s("events",e.attendanceDates)}}function ie(t,n){t&1&&(a(0,"ion-content")(1,"ion-card")(2,"ion-card-content")(3,"div",14),m(4,"Member not found."),r()()()())}var W=(()=>{let n=class n{constructor(o,i,l){this.route=o,this.memberService=i,this.attendanceService=l,this.member=null,this.currentMonth=new Date().getMonth(),this.currentYear=new Date().getFullYear(),this.attendanceDates=[]}ngOnInit(){let o=this.route.snapshot.paramMap.get("id");o&&(this.memberService.getMembers().subscribe(i=>{this.member=i.members.find(l=>String(l.id)===String(o))||null}),this.attendanceService.getAttendanceByMember(o).subscribe(i=>{this.attendanceDates=i.map(l=>new Date(l.date).toISOString().slice(0,10))}))}};n.\u0275fac=function(i){return new(i||n)(b(P),b(H),b(L))},n.\u0275cmp=v({type:n,selectors:[["app-member-detail"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["defaultHref","/tabs/members"],[4,"ngIf"],[1,"member-detail-card",3,"ngClass"],[1,"card-content"],[1,"member-info-row",2,"display","flex","align-items","center"],[1,"member-avatar",2,"width","48px","height","48px","border-radius","50%","background","#3880ff","color","#fff","display","flex","align-items","center","justify-content","center","font-size","1.5em","font-weight","bold","margin-right","16px"],[1,"member-info",2,"flex","1"],[1,"member-name"],[1,"member-id"],[2,"margin-top","1.5rem"],[2,"margin-bottom","0.5rem"],[3,"events"],[1,"ion-text-danger"]],template:function(i,l){i&1&&(a(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),u(3,"ion-back-button",2),r(),a(4,"ion-title"),m(5,"Member Details"),r()()(),g(6,ne,26,16,"ion-content",3)(7,ie,5,0,"ion-content",3)),i&2&&(c(6),s("ngIf",l.member),c(),s("ngIf",!l.member))},dependencies:[C,x,_,E,B,G,T,F,z,j,N,A,U],encapsulation:2});let t=n;return t})();var be=[{path:"",component:W}];export{be as MEMBER_DETAIL_ROUTES};
