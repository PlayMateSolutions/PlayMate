var c=(()=>{let a=class a{static onUpgrade(t){if(t.objectStoreNames.contains("members")||t.createObjectStore("members",{keyPath:"id"}),!t.objectStoreNames.contains("payments")){let e=t.createObjectStore("payments",{keyPath:"id"});e.createIndex("memberId","memberId",{unique:!1}),e.createIndex("date","date",{unique:!1}),e.createIndex("paymentType","paymentType",{unique:!1})}if(!t.objectStoreNames.contains("attendance")){let e=t.createObjectStore("attendance",{keyPath:"id"});e.createIndex("memberId","memberId",{unique:!1}),e.createIndex("date","date",{unique:!1}),e.createIndex("membershipStatus","membershipStatus",{unique:!1}),e.createIndex("dateRange",["date","memberId"],{unique:!1})}}static deleteDatabase(){return new Promise((t,e)=>{let r=window.indexedDB.deleteDatabase(a.dbName);r.onsuccess=()=>t(),r.onerror=s=>e(s),r.onblocked=()=>e(new Error("Delete blocked"))})}};a.dbName="PlayMateDB",a.version=4;let n=a;return n})();export{c as a};
